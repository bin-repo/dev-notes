# Vim 使用指南

## 三种命令模式

- `Command` 命令模式，用于输入命令
- `Insert` 插入模式，用于插入文本（按ESC键退出）
- `Visual` 可视模式，用于视化的高亮并选定正文

## 创建 & 打开

```sh
vi filename
```

## 保存 & 退出

- `:wq` 保存并退出
- `:q!` 直接退出不保存

## 移动光标

- `j` 下一行
- `k` 上一行
- `h` 左一字符
- `l` 右一字符
  - 以上四字符前加数字，可移动多行/字符，如：`3j` 下移3行
- `ctrl + b` 向上移一屏
- `ctrl + f` 向下移一屏

## 插入模式（Insert）

- `i` 光标前插入 `I`光标所在行行首插入
- `a` 光标后插入 `A`光标所在行行尾插入
- `o` 光标所在行前插入行 `O` 光标所在行后插入行
- `s` 删除光标后一个字符 `S` 删除光标所在行

## 删除内容

- `x` 删除一个字符
- `dw` 删除一个单词
- `dd` 删除一行
  - 以上三个命令前加数字，可删除多个字符/单词/行，如：`3dd` 删除3行
- `d$` 删除光标到行尾的内容
- `J` 删除光标所在行与上一行间空格（两行合一行）

## 复制 & 粘贴

- `y` 复制
- `d` 删除
- `shift + p` 粘贴
  - 对选中的内容进行复制/删除/粘贴

## 撤销操作

- `u` 撤销修改或删除操作（可多次回滚）

## 添加行号

- `:set number` 显示行/列号

## 查找

- `/search` 正向查找（如：`/foo`）  
- `?search` 反向查找（如：`?foo`）

## 替换

- `:s /search/replace/g` 当前行替换（如：`:s /foo/FOO/g`）  
- `:%s /search/replace` 全文替换（如：`:%s /foo/FOO`）  
- `:#,# s /search/replace/g` 指定行范围（如：`:1,10 s /foo/FOO/g`）
